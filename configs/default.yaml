# Water Leak Localization - Default Configuration
# ================================================

# Graph Parameters
graph:
  num_nodes: 200
  edge_probability: 0.08  # For random graph generation
  reservoir_nodes: 2      # Number of fixed-head reservoir nodes
  min_conductance: 0.5
  max_conductance: 2.0

# Sensor Configuration
sensors:
  ratio: 0.2              # Fraction of nodes that are sensors
  noise_std: 0.1          # Gaussian noise standard deviation

# Demand Distribution
demand:
  mean: 1.0
  std: 0.5
  reservoir_head: 50.0    # Fixed head at reservoir nodes (meters)

# Leak Parameters
leak:
  probability: 0.8        # Probability that a sample has a leak
  magnitude_min: 0.5
  magnitude_max: 5.0

# Dataset Generation
data:
  train_samples: 2000
  val_samples: 400
  test_samples: 400
  output_dir: "data"

# Training Parameters
training:
  batch_size: 32
  epochs: 50
  learning_rate: 0.001
  weight_decay: 1.0e-5
  patience: 10            # Early stopping patience
  focal_gamma: 2.0        # Focal loss gamma (0 = BCE)
  no_leak_weight: 0.5     # Weight for no-leak class

# Model Architecture
model:
  hidden_dim: 64
  num_layers: 3
  dropout: 0.1
  edge_dim: 2             # Edge features: conductance, length

# Stage 2 Parameters
stage2:
  top_k: 5                # Number of top candidates to consider
  use_physics: true       # Use physics-based magnitude estimation

# Evaluation
eval:
  top_k_values: [1, 3, 5, 10]

# Reproducibility
seed: 42
